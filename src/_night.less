@import "_variables.less";

@fade7: (800% / 15);
@fade8: (1000% / 15);
@fade9: (1300% / 15);

@default-fg: @white;
@default-bg: @black;
@color-input: darken(@default-bg, @fade1);
@color-scrollbar: mix(@default-fg, @default-bg, @fade5);

#main#main {
  .cdm.expandable.active {
    background-color: transparent !important;
  }
  :is(.cdm[data-article-id], .hl) {
    :is(.dijitCheckBox, .marked-pic, .pub-pic) {
      transition: all 0.2s !important;
    }
    .icon-score:not([title="0"]),
    &.marked .marked-pic,
    &.published .pub-pic,
    .dijitCheckBox.dijitChecked {
      opacity: 0.75;
    }
  }
  // keep specificity below `img.icon`
  :where(.hl.active, .hl.Selected, .cdm.expandable.Selected) {
    * {
      filter: none;
    }
  }
  img.icon {
    filter: opacity(0.8) drop-shadow(0 0 0.2px @white) drop-shadow(0 0 0.4px @white);
  }
}

body.flat.flat {
  // needs to be outside #main to also affect dialogs
  // bump specificity to 032 to override both index and prefs without overriding detail content
  &.flat hr {
    border-color: @border-default;
  }
  .alert {
    background-color: mix(@default-fg, @default-bg, @fade1);
  }
  :is(.dijitMenuItemHover, .dijitMenuItemSelected) td {
    color: @black;
  }
}

.notify {
  color: fade(@black, @fade8);
}
